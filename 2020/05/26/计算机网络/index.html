<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>计算机网络 | Ned Lee's bolg</title><meta name="description" content="分层的概念问题 1：OSI 有哪几层，会画出来，知道主要几层的各自作用 应用层（数据）：确定进程之间通信的性质以满足用户需要以及提供网络与用户应用  表示层（数据）：主要解决拥护信息的语法表示问题，如加密解密  会话层（数据）：提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制，如服务器验证用户登录便是由会话层完成的  传输层（段）：实现网络不同主机上用户进程之间的数据通信，可靠与不可靠"><meta name="keywords" content="面试题"><meta name="author" content="Ned Lee"><meta name="copyright" content="Ned Lee"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="计算机网络"><meta name="twitter:description" content="分层的概念问题 1：OSI 有哪几层，会画出来，知道主要几层的各自作用 应用层（数据）：确定进程之间通信的性质以满足用户需要以及提供网络与用户应用  表示层（数据）：主要解决拥护信息的语法表示问题，如加密解密  会话层（数据）：提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制，如服务器验证用户登录便是由会话层完成的  传输层（段）：实现网络不同主机上用户进程之间的数据通信，可靠与不可靠"><meta name="twitter:image" content="https://picsum.photos/id/151/2500/1656"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络"><meta property="og:url" content="http://yoursite.com/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><meta property="og:site_name" content="Ned Lee's bolg"><meta property="og:description" content="分层的概念问题 1：OSI 有哪几层，会画出来，知道主要几层的各自作用 应用层（数据）：确定进程之间通信的性质以满足用户需要以及提供网络与用户应用  表示层（数据）：主要解决拥护信息的语法表示问题，如加密解密  会话层（数据）：提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制，如服务器验证用户登录便是由会话层完成的  传输层（段）：实现网络不同主机上用户进程之间的数据通信，可靠与不可靠"><meta property="og:image" content="https://picsum.photos/id/151/2500/1656"><meta property="article:published_time" content="2020-05-26T07:08:15.000Z"><meta property="article:modified_time" content="2020-05-26T09:25:19.000Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"><link rel="prev" title="Mybatis笔记" href="http://yoursite.com/2020/06/04/Mybatis%E7%AC%94%E8%AE%B0/"><link rel="next" title="synchronized和lock的区别" href="http://yoursite.com/2020/05/16/synchronized%E5%92%8Clock%E7%9A%84%E5%8C%BA%E5%88%AB/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: false,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Ned Lee's bolg" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">39</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">6</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#分层的概念"><span class="toc-number">1.</span> <span class="toc-text">分层的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-1：OSI-有哪几层，会画出来，知道主要几层的各自作用"><span class="toc-number">1.0.1.</span> <span class="toc-text">问题 1：OSI 有哪几层，会画出来，知道主要几层的各自作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-2：知道各个层使用的是哪个数据交换设备。（交换机、路由器、网关）"><span class="toc-number">1.0.2.</span> <span class="toc-text">问题 2：知道各个层使用的是哪个数据交换设备。（交换机、路由器、网关）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据链路层"><span class="toc-number">2.</span> <span class="toc-text">数据链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP-协议"><span class="toc-number">2.1.</span> <span class="toc-text">ARP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-1：ARP-的作用？"><span class="toc-number">2.1.1.</span> <span class="toc-text">问题 1：ARP 的作用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-2：点对点链路使用-ARP-吗？"><span class="toc-number">2.1.2.</span> <span class="toc-text">问题 2：点对点链路使用 ARP 吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-3：ARP-高效运行的关键是什么？"><span class="toc-number">2.1.3.</span> <span class="toc-text">问题 3：ARP 高效运行的关键是什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-4：ARP-报文的各个字段以及含义？"><span class="toc-number">2.1.4.</span> <span class="toc-text">问题 4：ARP 报文的各个字段以及含义？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-5：ARP-协议有什么弱点？"><span class="toc-number">2.1.5.</span> <span class="toc-text">问题 5：ARP 协议有什么弱点？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-6：ARP-代理的概念和应用场景"><span class="toc-number">2.1.6.</span> <span class="toc-text">问题 6：ARP 代理的概念和应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-7：免费-ARP"><span class="toc-number">2.1.7.</span> <span class="toc-text">问题 7：免费 ARP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-8：数据链路层-MTU-的最大值和最小值是多少？"><span class="toc-number">2.1.8.</span> <span class="toc-text">问题 8：数据链路层 MTU 的最大值和最小值是多少？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#网络层"><span class="toc-number">3.</span> <span class="toc-text">网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IP-协议"><span class="toc-number">3.1.</span> <span class="toc-text">IP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-1：如何理解IP-的不可靠和无连接。"><span class="toc-number">3.1.1.</span> <span class="toc-text">问题 1：如何理解IP 的不可靠和无连接。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-2：IP-报文的格式和各个字段的含义。"><span class="toc-number">3.1.2.</span> <span class="toc-text">问题 2：IP 报文的格式和各个字段的含义。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-3：为什么-IP-首部中要有总长度字段？"><span class="toc-number">3.1.3.</span> <span class="toc-text">问题 3：为什么 IP 首部中要有总长度字段？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-4：IP-首部校验和怎么计算的，与-ICMP，IGMP，TCP，UDP-的首部校验和有什么区别与共同点？"><span class="toc-number">3.1.4.</span> <span class="toc-text">问题 4：IP 首部校验和怎么计算的，与 ICMP，IGMP，TCP，UDP 的首部校验和有什么区别与共同点？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-5：主机和路由器本质区别是？"><span class="toc-number">3.1.5.</span> <span class="toc-text">问题 5：主机和路由器本质区别是？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-6：IP-路由选择的过程是怎么样的？"><span class="toc-number">3.1.6.</span> <span class="toc-text">问题 6：IP 路由选择的过程是怎么样的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-7：IP-路由选择的特性有什么？"><span class="toc-number">3.1.7.</span> <span class="toc-text">问题 7：IP 路由选择的特性有什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-8：IP-搜索路由表的步骤"><span class="toc-number">3.1.8.</span> <span class="toc-text">问题 8：IP 搜索路由表的步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-9：如果路由表中没有默认项，而又没有找到匹配项，这时如何处理？"><span class="toc-number">3.1.9.</span> <span class="toc-text">问题 9：如果路由表中没有默认项，而又没有找到匹配项，这时如何处理？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-10：IP-地址的分类，如何划分的，及会计算各类地址支持的主机数"><span class="toc-number">3.1.10.</span> <span class="toc-text">问题 10：IP 地址的分类，如何划分的，及会计算各类地址支持的主机数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ICMP-协议"><span class="toc-number">3.2.</span> <span class="toc-text">ICMP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-1：ICMP-的层次和作用。"><span class="toc-number">3.2.1.</span> <span class="toc-text">问题 1：ICMP 的层次和作用。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-2：ICMP-报文的分类？"><span class="toc-number">3.2.2.</span> <span class="toc-text">问题 2：ICMP 报文的分类？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-3：ICMP-的主机不可达报文是在什么情况下发出的？"><span class="toc-number">3.2.3.</span> <span class="toc-text">问题 3：ICMP 的主机不可达报文是在什么情况下发出的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-4：什么情况不会导致产生-ICMP-差错报文？-1）-ICMP-差错报文。"><span class="toc-number">3.2.4.</span> <span class="toc-text">问题 4：什么情况不会导致产生 ICMP 差错报文？ 1） ICMP 差错报文。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-5：ICMP-重定向差错报文是怎么来的，在何种场合出现？"><span class="toc-number">3.2.5.</span> <span class="toc-text">问题 5：ICMP 重定向差错报文是怎么来的，在何种场合出现？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-6：重定向报文有什么规则？"><span class="toc-number">3.2.6.</span> <span class="toc-text">问题 6：重定向报文有什么规则？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-7：Ping-命令的具体过程是怎么样的？"><span class="toc-number">3.2.7.</span> <span class="toc-text">问题 7：Ping 命令的具体过程是怎么样的？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#传输层"><span class="toc-number">4.</span> <span class="toc-text">传输层</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP-协议"><span class="toc-number">4.1.</span> <span class="toc-text">UDP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-1：UDP-和-TCP-的简单介绍。"><span class="toc-number">4.1.1.</span> <span class="toc-text">问题 1：UDP 和 TCP 的简单介绍。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-2：UDP-报头字段和含义？"><span class="toc-number">4.1.2.</span> <span class="toc-text">问题 2：UDP 报头字段和含义？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-3：-UDP-的校验和是怎么计算的？"><span class="toc-number">4.1.3.</span> <span class="toc-text">问题 3： UDP 的校验和是怎么计算的？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-4：为什么要加有伪首部？"><span class="toc-number">4.1.4.</span> <span class="toc-text">问题 4：为什么要加有伪首部？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-协议"><span class="toc-number">4.2.</span> <span class="toc-text">TCP 协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-1：TCP-通过哪些方式来保证可靠性？"><span class="toc-number">4.2.1.</span> <span class="toc-text">问题 1：TCP 通过哪些方式来保证可靠性？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-2：TCP-与-UDP-的概念相互的区别及优劣"><span class="toc-number">4.2.2.</span> <span class="toc-text">问题 2：TCP 与 UDP 的概念相互的区别及优劣</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-3：TCP、UDP-为什么存在伪包头？"><span class="toc-number">4.2.3.</span> <span class="toc-text">问题 3：TCP、UDP 为什么存在伪包头？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-4：为什么要-3-次握手，4-次挥手"><span class="toc-number">4.2.4.</span> <span class="toc-text">问题 4：为什么要 3 次握手，4 次挥手</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-5：TCP-的流量控制机制"><span class="toc-number">4.2.5.</span> <span class="toc-text">问题 5：TCP 的流量控制机制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#"><span class="toc-number">4.3.</span> <span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#拥塞避免："><span class="toc-number">4.3.1.</span> <span class="toc-text">拥塞避免：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#快速重传："><span class="toc-number">4.3.2.</span> <span class="toc-text">快速重传：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#快速恢复："><span class="toc-number">4.3.3.</span> <span class="toc-text">快速恢复：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#应用层"><span class="toc-number">5.</span> <span class="toc-text">应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-1：DNS-的概念，用途，DNS-查询的实现算法"><span class="toc-number">5.0.1.</span> <span class="toc-text">问题 1：DNS 的概念，用途，DNS 查询的实现算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-2：http-基本格式"><span class="toc-number">5.0.2.</span> <span class="toc-text">问题 2：http 基本格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-3：GET、POST-区别"><span class="toc-number">5.0.3.</span> <span class="toc-text">问题 3：GET、POST 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-4：Cookies-和-Session-的区别"><span class="toc-number">5.0.4.</span> <span class="toc-text">问题 4：Cookies 和 Session 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-5：一次完整的-HTTP-请求所经历的步骤"><span class="toc-number">5.0.5.</span> <span class="toc-text">问题 5：一次完整的 HTTP 请求所经历的步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#问题-6：http2-0-和http1-1-的区别"><span class="toc-number">5.0.6.</span> <span class="toc-text">问题 6：http2.0 和http1.1 的区别</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://picsum.photos/id/151/2500/1656)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Ned Lee's bolg</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">计算机网络</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-05-26 15:08:15"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-05-26</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-05-26 17:25:19"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-05-26</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E7%89%9B%E5%AE%A2%E5%B0%8F%E7%9F%A5%E8%AF%86/">牛客小知识</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="分层的概念"><a href="#分层的概念" class="headerlink" title="分层的概念"></a><center>分层的概念</center></h1><h3 id="问题-1：OSI-有哪几层，会画出来，知道主要几层的各自作用"><a href="#问题-1：OSI-有哪几层，会画出来，知道主要几层的各自作用" class="headerlink" title="问题 1：OSI 有哪几层，会画出来，知道主要几层的各自作用"></a>问题 1：OSI 有哪几层，会画出来，知道主要几层的各自作用</h3><ol>
<li><p>应用层（数据）：确定进程之间通信的性质以满足用户需要以及提供网络与用户应用</p>
</li>
<li><p>表示层（数据）：主要解决拥护信息的语法表示问题，如加密解密</p>
</li>
<li><p>会话层（数据）：提供包括访问验证和会话管理在内的建立和维护应用之间通信的机制，如服务器验证用户登录便是由会话层完成的</p>
</li>
<li><p>传输层（段）：实现网络不同主机上用户进程之间的数据通信，可靠与不可靠的传输，传输层的错误检测，流量控制等</p>
</li>
<li><p>网络层（包）：提供逻辑地址（IP）、选路，数据从源端到目的端的传输</p>
</li>
<li><p>数据链路层（帧）：将上层数据封装成帧，用 MAC 地址访问媒介，错误检测与修正</p>
</li>
<li><p>物理层（比特流）：设备之间比特流的传输，物理接口，电气特性等</p>
</li>
</ol>
<h3 id="问题-2：知道各个层使用的是哪个数据交换设备。（交换机、路由器、网关）"><a href="#问题-2：知道各个层使用的是哪个数据交换设备。（交换机、路由器、网关）" class="headerlink" title="问题 2：知道各个层使用的是哪个数据交换设备。（交换机、路由器、网关）"></a>问题 2：知道各个层使用的是哪个数据交换设备。（交换机、路由器、网关）</h3><ol>
<li><p>网关：应用层、传输层（网关在传输层上以实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。网关的结构也和路由器类似，不同的是互连层。网关既可以用于广域网互连，也可以用于局域网互连）</p>
</li>
<li><p>路由器：网络层（路由选择、存储转发）</p>
</li>
<li><p>交换机：数据链路层、网络层（识别数据包中的 MAC 地址信息，根据 MAC 地址进行转发，并将这些 MAC 地址与对应的端口记录在自己内部的一个地址表中）</p>
</li>
<li><p>网桥：数据链路层（将两个 LAN 连起来，根据 MAC 地址来转发帧）</p>
</li>
<li><p>集线器（Hub）：物理层（纯硬件设备，主要用来连接计算机等网络终端）</p>
</li>
<li><p>中继器：物理层（在比特级别对网络信号进行再生和重定时，从而使得它们能够在网络上传输更长的距离）</p>
</li>
</ol>
<h1 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a><center>数据链路层</center></h1><h2 id="ARP-协议"><a href="#ARP-协议" class="headerlink" title="ARP 协议"></a>ARP 协议</h2><h3 id="问题-1：ARP-的作用？"><a href="#问题-1：ARP-的作用？" class="headerlink" title="问题 1：ARP 的作用？"></a>问题 1：ARP 的作用？</h3><p>ARP 为 IP 地址到对应的硬件地址提供动态映射。</p>
<h3 id="问题-2：点对点链路使用-ARP-吗？"><a href="#问题-2：点对点链路使用-ARP-吗？" class="headerlink" title="问题 2：点对点链路使用 ARP 吗？"></a>问题 2：点对点链路使用 ARP 吗？</h3><p>不使用 </p>
<h3 id="问题-3：ARP-高效运行的关键是什么？"><a href="#问题-3：ARP-高效运行的关键是什么？" class="headerlink" title="问题 3：ARP 高效运行的关键是什么？"></a>问题 3：ARP 高效运行的关键是什么？</h3><p>关键是每个主机上都有一个 ARP 的高速缓存。</p>
<h3 id="问题-4：ARP-报文的各个字段以及含义？"><a href="#问题-4：ARP-报文的各个字段以及含义？" class="headerlink" title="问题 4：ARP 报文的各个字段以及含义？"></a>问题 4：ARP 报文的各个字段以及含义？</h3> <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/arp.png" class title="ARP 报文的各个字段以及含义">

<p>帧类型：ARP：0x0806 （2） </p>
<p>ARP 首部：</p>
<p>硬件类型：硬件地址的类型，1 表示以太网地址。（2） </p>
<p>协议类型：协议地址的类型，0x0800 表示 IP 地址。(2) </p>
<p>硬件地址长度：字节为单位 6  （1）</p>
<p>协议地址长度：字节为单位 4  (1)</p>
<p>操作类型：2 个字节。 ARP 请求 1，ARP 回复 2，RARP 请求 3，RARP 应答 4。（2） </p>
<p>发送者硬件地址：6 个字节（6）</p>
<p>发送者 IP 地址：4 个字节（4） </p>
<p>目标硬件地址：6 个字节（6） </p>
<p>目标 IP 地址：4 个字节（4） </p>
<p>CRC 校验：4 个字节 （4）</p>
<p>总结：</p>
<p>arp 总共 28 个字节。</p>
<p>记忆方法： 以太网先目地后源，ARP 先发送端后目地端。先硬件后协议。</p>
<h3 id="问题-5：ARP-协议有什么弱点？"><a href="#问题-5：ARP-协议有什么弱点？" class="headerlink" title="问题 5：ARP 协议有什么弱点？"></a>问题 5：ARP 协议有什么弱点？</h3><p>1） 缓存：主机的地址映射是基于高速缓存的，动态更新的。地址刷新是有时间限制的。 可以通过下次更新之前修改计算机上的地址缓存，造成拒绝服务攻击或者 ARP 欺骗。</p>
<p>2） 广播: 攻击者可以伪装 ARP 应答。</p>
<p>3） ARP 应答没有认证，都是合法的。可以在不接受到请求的时候就发出应答包。</p>
<h3 id="问题-6：ARP-代理的概念和应用场景"><a href="#问题-6：ARP-代理的概念和应用场景" class="headerlink" title="问题 6：ARP 代理的概念和应用场景"></a>问题 6：ARP 代理的概念和应用场景</h3><p>若 ARP 请求是从一个网络的主机发送给另一个网络上的主机，那么连接这两个网络的路由器就可以回答该请求，这个过程叫做 ARP 代理。ARP 代理路由器响应 ARP 请求的 MAC 地址为路由器的 MAC 地址而非 ARP 请求的主机的 MAC 地址。</p>
<p>ARP 代理的应用环境：</p>
<p>两个物理网络之间的路由是使用相同的网络号，两个路由器设置成 ARP 代理，实现相互隐瞒物理网络</p>
<h3 id="问题-7：免费-ARP"><a href="#问题-7：免费-ARP" class="headerlink" title="问题 7：免费 ARP"></a>问题 7：免费 ARP</h3><p>指主机发送 ARP 查找自己的 IP 地址，即数据链路层 SIP=DIP作用有两个：</p>
<p>1） 一个主机使用免费 ARP 确定是有存在有其他主机设置了相同的IP 地址</p>
<p>2） 如果发送免费 ARP 的主机改变了 MAC 地址，可以通过发送免费 ARP 的方式告知其他主机端更新 ARP 表</p>
<h3 id="问题-8：数据链路层-MTU-的最大值和最小值是多少？"><a href="#问题-8：数据链路层-MTU-的最大值和最小值是多少？" class="headerlink" title="问题 8：数据链路层 MTU 的最大值和最小值是多少？"></a>问题 8：数据链路层 MTU 的最大值和最小值是多少？</h3><p>1) 数据链路层的<strong>最小MTU 为64字节</strong>。对于IEEE802.3，两个站点的最远距离不超过2500m,由 4 个中继器连接而成，其冲突窗口为 51.2us(2 倍电缆传播延迟加上 4 个中继器的双向延迟).对于 10Mbps 的 IEEE802.3 来说，这个时间等于发送 64 字节，即 512 位的时间，64 字节就是由此而来的。如果一个站点已经传输了 512bit，就认为它已经占用了这个信道。</p>
<p>2) 数据链路层的<strong>最大</strong> <strong>MTU 为 1500 字节</strong>，即数据字段的最大长度</p>
<h1 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a><center>网络层</center></h1><h2 id="IP-协议"><a href="#IP-协议" class="headerlink" title="IP 协议"></a>IP 协议</h2><h3 id="问题-1：如何理解IP-的不可靠和无连接。"><a href="#问题-1：如何理解IP-的不可靠和无连接。" class="headerlink" title="问题 1：如何理解IP 的不可靠和无连接。"></a>问题 1：如何理解IP 的不可靠和无连接。</h3><p><strong>不可靠</strong>：指的是不能保证数据报能成功地到达目的地。</p>
<p>发生错误时候，丢弃该数据包，发送 ICMP 消息给信源端。 可靠性由上层提供。</p>
<p><strong>无连接</strong>：IP 不维护关于后续数据报的状态信息。</p>
<p>体现在，IP 数据可以不按顺序发送和接收。A 发送连续的数据报，到达B 不一定是连续的， 来回路由选择可能不一样，路线也不一样，到达先后顺序也不一样。</p>
<h3 id="问题-2：IP-报文的格式和各个字段的含义。"><a href="#问题-2：IP-报文的格式和各个字段的含义。" class="headerlink" title="问题 2：IP 报文的格式和各个字段的含义。"></a>问题 2：IP 报文的格式和各个字段的含义。</h3> <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/ip.png" class title="IP 报文的格式和各个字段的含义"> 

<p><strong>版本号</strong>： IPV4 就是 4，IPV6 就是 6 （4）</p>
<p><strong>首部长度</strong>：4 个字节为单位。最小为 5，最大为 15。所以最小长度 20 个字节，最大为 60个字节。（4）</p>
<p><strong>服务类型</strong>： Qos 用，目前不怎么使用。（8）</p>
<p><strong>总长度</strong>：字节为单位。 最多可以传送 65535 字节的IP 数据包。（16） <strong>标识字段</strong>（8）</p>
<p><strong>标 志</strong> （3）</p>
<p><strong>段偏移</strong>（5）与分片有关。</p>
<p><strong>生存时间 TTL</strong>：经过一个路由器减一。 字段为 0 时，数据报被丢弃，并且发送 ICMP 报文通知源主机。目的是防止数据报在选路时无休止地在网络中流动。（8） </p>
<p><strong>协议</strong>：区分上层协议 （8）</p>
<p><strong>首部校验和</strong>：仅对首部进行校验。（16）【对比： ICMP，IGMP，TCP，UDP：对首部和数据进行校验】</p>
<p><strong>源地址</strong>：（32）</p>
<p><strong>目的地址</strong>：(32)</p>
<h3 id="问题-3：为什么-IP-首部中要有总长度字段？"><a href="#问题-3：为什么-IP-首部中要有总长度字段？" class="headerlink" title="问题 3：为什么 IP 首部中要有总长度字段？"></a>问题 3：为什么 IP 首部中要有总长度字段？</h3><p>因为一些数据链路（以太网）需要填充一些数据以达到最小长度。因为以太网帧的最小长度是 46 个字节，但是IP 长度可能更短，所以需要总长度来确定IP 数据部分的内容。</p>
<h3 id="问题-4：IP-首部校验和怎么计算的，与-ICMP，IGMP，TCP，UDP-的首部校验和有什么区别与共同点？"><a href="#问题-4：IP-首部校验和怎么计算的，与-ICMP，IGMP，TCP，UDP-的首部校验和有什么区别与共同点？" class="headerlink" title="问题 4：IP 首部校验和怎么计算的，与 ICMP，IGMP，TCP，UDP 的首部校验和有什么区别与共同点？"></a>问题 4：IP 首部校验和怎么计算的，与 ICMP，IGMP，TCP，UDP 的首部校验和有什么区别与共同点？</h3><p>（1） 先把校验和字段置 0。</p>
<p>（2） 对首部中每个 16 位比特进行二进制反码求和。</p>
<p>（3） 结果存在检验和字段中。</p>
<p>（4） 收到一份 IP 数据包后，同样对首部中每个 16bit 二进制反码求和。</p>
<p>（5） 最后结果全为 1，表示正确，否则表示错误。</p>
<p>（6） 如果是错误的，IP 就丢弃该数据报，但是不生成差错报文，由上层去处理。</p>
<p>共同点：用到的算法都是一样的。</p>
<p>区别：IP 计算的时候没有将数据包括在内。ICMP，IGMP，TCP，UDP 同时覆盖首部和数据检验码。</p>
<h3 id="问题-5：主机和路由器本质区别是？"><a href="#问题-5：主机和路由器本质区别是？" class="headerlink" title="问题 5：主机和路由器本质区别是？"></a>问题 5：主机和路由器本质区别是？</h3><p>主机从不把数据报从一个接口转发到另一个接口，而路由器则要转发数据报。</p>
<h3 id="问题-6：IP-路由选择的过程是怎么样的？"><a href="#问题-6：IP-路由选择的过程是怎么样的？" class="headerlink" title="问题 6：IP 路由选择的过程是怎么样的？"></a>问题 6：IP 路由选择的过程是怎么样的？</h3><p>根据最长匹配原则，找到条目，发送到指定的路由器。如果不能找到，返回一个“主机不可达”或“网络不可达”的错误。</p>
<h3 id="问题-7：IP-路由选择的特性有什么？"><a href="#问题-7：IP-路由选择的特性有什么？" class="headerlink" title="问题 7：IP 路由选择的特性有什么？"></a>问题 7：IP 路由选择的特性有什么？</h3><p>（１） IP 路由选择是逐跳进行的。</p>
<p>IP 并不知道到达任何目的的完整路径，只提供下一跳地址。</p>
<p>（２） 为一个网络指定一个路由器，而不是为每个主机指定一个路由器。这样可以缩小路由表规模。</p>
<h3 id="问题-8：IP-搜索路由表的步骤"><a href="#问题-8：IP-搜索路由表的步骤" class="headerlink" title="问题 8：IP 搜索路由表的步骤"></a>问题 8：IP 搜索路由表的步骤</h3><p>搜索匹配的主机地址 —-》搜索匹配的网络地址– 》搜索默认选项</p>
<p>IP 层进行的选路实际上是一种选路机制，它搜索路由表并决定向哪个网络接口发送分组。</p>
<h3 id="问题-9：如果路由表中没有默认项，而又没有找到匹配项，这时如何处理？"><a href="#问题-9：如果路由表中没有默认项，而又没有找到匹配项，这时如何处理？" class="headerlink" title="问题 9：如果路由表中没有默认项，而又没有找到匹配项，这时如何处理？"></a>问题 9：如果路由表中没有默认项，而又没有找到匹配项，这时如何处理？</h3><p>结果取决于该 IP 数据报是由主机产生的还是被转发的。</p>
<p>如果数据报是由本机产生的，那么就给发送该数据报的应用程序返回一个差错，或者是“主机不可达差错”或者是“网络不可达差错”。</p>
<p>如果是被转发的数据报，就给原始发送一份 ICMP 主机不可达的差错报文。</p>
<h3 id="问题-10：IP-地址的分类，如何划分的，及会计算各类地址支持的主机数"><a href="#问题-10：IP-地址的分类，如何划分的，及会计算各类地址支持的主机数" class="headerlink" title="问题 10：IP 地址的分类，如何划分的，及会计算各类地址支持的主机数"></a>问题 10：IP 地址的分类，如何划分的，及会计算各类地址支持的主机数</h3><ol>
<li><p>A 类地址：首位为 0，1.0.0.1~~126.255.255.254；主机号 24 位</p>
</li>
<li><p>B 类地址：首位为 10，128.0.0.1~~191.255.255.254；主机号 16 位</p>
</li>
<li><p>C 类地址：首位为 110，192.0.0.1~~223.255.255.254；主机号 8 位</p>
</li>
<li><p>D 类地址（多播地址，也叫做组播地址）：首位为 1110，224.0.0.1~~239.255.255.254</p>
</li>
<li><p>E 类地址：此类地址是保留地址，首位为 11110，240.0.0.1~~254.255.255.254 </p>
</li>
</ol>
<h2 id="ICMP-协议"><a href="#ICMP-协议" class="headerlink" title="ICMP 协议"></a>ICMP 协议</h2><h3 id="问题-1：ICMP-的层次和作用。"><a href="#问题-1：ICMP-的层次和作用。" class="headerlink" title="问题 1：ICMP 的层次和作用。"></a>问题 1：ICMP 的层次和作用。</h3><img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/icmpd.png" class title="ICMP的层次和作用"> 

<p>ICMP 一般认为是在三层的。主要传递一些差错报文和其他需要注意的信息。</p>
<h3 id="问题-2：ICMP-报文的分类？"><a href="#问题-2：ICMP-报文的分类？" class="headerlink" title="问题 2：ICMP 报文的分类？"></a>问题 2：ICMP 报文的分类？</h3><p>ICMP 分为两类，一类是 ICMP 查询报文，另一类是 ICMP 差错报文。</p>
<img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/icmp.png" class title="ICMP 报文的分类">

<h3 id="问题-3：ICMP-的主机不可达报文是在什么情况下发出的？"><a href="#问题-3：ICMP-的主机不可达报文是在什么情况下发出的？" class="headerlink" title="问题 3：ICMP 的主机不可达报文是在什么情况下发出的？"></a>问题 3：ICMP 的主机不可达报文是在什么情况下发出的？</h3><p>三层设备（路由器）给该主机寻路时，没有找到相应路径，向源 IP 发回 ICMP 主机不可达</p>
<h3 id="问题-4：什么情况不会导致产生-ICMP-差错报文？-1）-ICMP-差错报文。"><a href="#问题-4：什么情况不会导致产生-ICMP-差错报文？-1）-ICMP-差错报文。" class="headerlink" title="问题 4：什么情况不会导致产生 ICMP 差错报文？ 1） ICMP 差错报文。"></a>问题 4：什么情况不会导致产生 ICMP 差错报文？ 1） ICMP 差错报文。</h3><p>2）   目的地址是广播地址或者多播地址的 IP 数据报。</p>
<p>3）   链路层广播的数据报</p>
<p>4）   不是 IP 分片的第一片</p>
<p>5）   源地址不是单个主机的数据包。</p>
<h3 id="问题-5：ICMP-重定向差错报文是怎么来的，在何种场合出现？"><a href="#问题-5：ICMP-重定向差错报文是怎么来的，在何种场合出现？" class="headerlink" title="问题 5：ICMP 重定向差错报文是怎么来的，在何种场合出现？"></a>问题 5：ICMP 重定向差错报文是怎么来的，在何种场合出现？</h3> <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/r1.jpg" class title="ICMP 重定向差错报文">

<p>1）   主机发送 IP 数据报给 R1，因为主机的默认路由指向的下一跳是 R1。</p>
<p>2）   R1 收到数据报并且检查它的路由表，发现 R2 是发送该数据报的下一跳。当他将数据报发送给 R2 的时候，发现发送的接口与接受的端口是一样的，因此同时发送一个 ICMP 重定向报文给主机。</p>
<p>3）   R1 接受到 ICMP 重定向报文后，接下来的数据报就发送给 R2，而不再发送给 R1。</p>
<h3 id="问题-6：重定向报文有什么规则？"><a href="#问题-6：重定向报文有什么规则？" class="headerlink" title="问题 6：重定向报文有什么规则？"></a>问题 6：重定向报文有什么规则？</h3><p>重定向报文只能有路由器生成。</p>
<p>重定向报文是为主机而不是为路由器使用的。</p>
<h3 id="问题-7：Ping-命令的具体过程是怎么样的？"><a href="#问题-7：Ping-命令的具体过程是怎么样的？" class="headerlink" title="问题 7：Ping 命令的具体过程是怎么样的？"></a>问题 7：Ping 命令的具体过程是怎么样的？</h3><p>参考文章：《对于 Ping 的过程，你真的了解吗？》 <a href="https://mp.weixin.qq.com/s/DfQT3Vw2xaq60YIil-7Yxw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/DfQT3Vw2xaq60YIil-7Yxw</a></p>
<h1 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a><center>传输层</center></h1><h2 id="UDP-协议"><a href="#UDP-协议" class="headerlink" title="UDP 协议"></a>UDP 协议</h2><h3 id="问题-1：UDP-和-TCP-的简单介绍。"><a href="#问题-1：UDP-和-TCP-的简单介绍。" class="headerlink" title="问题 1：UDP 和 TCP 的简单介绍。"></a>问题 1：UDP 和 TCP 的简单介绍。</h3><p>UDP 是一个简单的面向数据报的运输层协议：进程的每个输出操作都正好产生一个 UDP 数据报，并组装成一份待发送的 IP 数据报。</p>
<p>TCP 是面向流字符，应用程序产生的全体数据与真正发送的单个 IP 数据报可能没什么联系。</p>
<h3 id="问题-2：UDP-报头字段和含义？"><a href="#问题-2：UDP-报头字段和含义？" class="headerlink" title="问题 2：UDP 报头字段和含义？"></a>问题 2：UDP 报头字段和含义？</h3> <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/udpb.png" class title="UDP 首部">

<p>源端口号（2） </p>
<p>目地端口号（2）</p>
<p>UDP 长度：是UDP 的报文总长度，是多于的。 IP 总长度减去首部长度就是此值。（2） </p>
<p>UDP 校验和：注意点：校验和是可选的。 （TCP 是必选的）校验和覆盖 UDP 首部和数据</p>
<p>（TCP 也一样覆盖首部和数据，但是 IP 指覆盖首部）（2）</p>
<h3 id="问题-3：-UDP-的校验和是怎么计算的？"><a href="#问题-3：-UDP-的校验和是怎么计算的？" class="headerlink" title="问题 3： UDP 的校验和是怎么计算的？"></a>问题 3： UDP 的校验和是怎么计算的？</h3><p>UDP 的校验和要计算首部和数据部分。首部还包括伪首部。</p>
   <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/udp.png" class title="UDP 的校验和计算">

<p>多了 12 个字节的伪首部。</p>
<p>注意点：UDP 长度计算两次。</p>
<p>如果检验和有错，则 UDP 数据报被悄悄丢弃，不产生任何差错报文。</p>
<h3 id="问题-4：为什么要加有伪首部？"><a href="#问题-4：为什么要加有伪首部？" class="headerlink" title="问题 4：为什么要加有伪首部？"></a>问题 4：为什么要加有伪首部？</h3><p>目的是让UDP 两次检查数据是否已经正确到达目的地。IP 接受正确的目的地址，传送到正确的上层程序。</p>
<p>所有伪首部包括：源 IP 地址，目的 IP 地址，0，协议号，UDP 长度。</p>
<h2 id="TCP-协议"><a href="#TCP-协议" class="headerlink" title="TCP 协议"></a>TCP 协议</h2><h3 id="问题-1：TCP-通过哪些方式来保证可靠性？"><a href="#问题-1：TCP-通过哪些方式来保证可靠性？" class="headerlink" title="问题 1：TCP 通过哪些方式来保证可靠性？"></a>问题 1：TCP 通过哪些方式来保证可靠性？</h3><p>1）   应用数据被分割成 TCP 认为最适合发送的数据块。</p>
<p>2）   确认机制，发送报文后，等待确认。</p>
<p>3）   重发机制，没有收到确认，将重发数据段。</p>
<p>4）   保持它首部和数据的校验和。确认数据的准确性。</p>
<p>5）   排序，丢弃重复的，流量控制。</p>
<h3 id="问题-2：TCP-与-UDP-的概念相互的区别及优劣"><a href="#问题-2：TCP-与-UDP-的概念相互的区别及优劣" class="headerlink" title="问题 2：TCP 与 UDP 的概念相互的区别及优劣"></a>问题 2：TCP 与 UDP 的概念相互的区别及优劣</h3><ol>
<li>TCP 面向连接，UDP 面向无链接</li>
</ol>
<ol start="2">
<li>TCP 面向报文，UDP 面向字节流</li>
</ol>
<ol start="3">
<li>TCP 提供可靠传输服务（数据顺序、正确性），UDP 传输不可靠</li>
</ol>
<ol start="4">
<li>TCP 协议传输速度慢，UDP 协议传输速度快</li>
</ol>
<ol start="5">
<li>TCP 协议对系统资源要求多（头部开销大），UDP 协议要求少</li>
</ol>
<h3 id="问题-3：TCP、UDP-为什么存在伪包头？"><a href="#问题-3：TCP、UDP-为什么存在伪包头？" class="headerlink" title="问题 3：TCP、UDP 为什么存在伪包头？"></a>问题 3：TCP、UDP 为什么存在伪包头？</h3><p>UDP(TCP)检验和：是根据 UDP(TCP)数据报和伪报头计算得到的差错检测值。</p>
<p>伪报头包含源和目的 IP 地址，以及来自 IP 数据报报头的协议值。IP 数据报在网络中传送时包含UDP 数据报。</p>
<p>伪报头并不会在网络中传送，校验和中所包含的伪报头内容可以避免目的端错误地接收错误路由的数据报。校验和值的计算方法和 IP 报头检验和的计算方法类似</p>
<h3 id="问题-4：为什么要-3-次握手，4-次挥手"><a href="#问题-4：为什么要-3-次握手，4-次挥手" class="headerlink" title="问题 4：为什么要 3 次握手，4 次挥手"></a>问题 4：为什么要 3 次握手，4 次挥手</h3><ol>
<li><p>3 次握手：防止已过期的连接请求报文突然又传送到服务器，因而产生错误</p>
</li>
<li><p>4 次挥手：确保数据能够完成传输，但关闭连接时，当收到对方的FIN 报文通知时，它仅仅表示对方没有数据发送给你了；但未必你所有的数据都全部发送给对方了，所以你可以未必会马上会关闭 SOCKET,也即你可能还需要发送一些数据给对方之后，再发送 FIN 报文给对方来表示你同意现在可以关闭连接了，所以它这里的 ACK 报文和 FIN 报文多数情况下都是分开发送的 </p>
</li>
</ol>
<h3 id="问题-5：TCP-的流量控制机制"><a href="#问题-5：TCP-的流量控制机制" class="headerlink" title="问题 5：TCP 的流量控制机制"></a>问题 5：TCP 的流量控制机制</h3><p>主要是下面的四种机制：</p>
<p> <strong>慢启动（慢开始）：</strong></p>
<ol>
<li><p>慢开始不是指 cwnd 的增长速度慢（指数增长），而是指 TCP 开始发送设置 cwnd=1。</p>
</li>
<li><p>思路：不要一开始就发送大量的数据，先探测一下网络的拥塞程度，也就是说由小到大逐渐增加拥塞窗口的大小。这里用报文段的个数的拥塞窗口大小举例说明慢开始算法，实时拥塞窗口大小是以字节为单位的。</p>
</li>
<li><p>为了防止 cwnd 增长过大引起网络拥塞，设置一个慢开始门限（ssthresh 状态变量）</p>
<p>当 cnwd＜ssthresh，使用慢开始算法</p>
<p>当 cnwd=ssthresh，既可使用慢开始算法，也可以使用拥塞避免算法</p>
<p>当 cnwd＞ssthresh，使用拥塞避免算法</p>
</li>
</ol>
<h2 id><a href="#" class="headerlink" title></a></h2><h3 id="拥塞避免："><a href="#拥塞避免：" class="headerlink" title="拥塞避免："></a>拥塞避免：</h3><ol>
<li><p>拥塞避免并非完全能够避免拥塞，是说在拥塞避免阶段将拥塞窗口控制为按线性规律增长，使网络比较不容易出现拥塞。</p>
</li>
<li><p>思路：让拥塞窗口 cwnd 缓慢地增大，即每经过一个往返时间 RTT 就把发送方的拥塞控制窗口加一。</p>
</li>
</ol>
<p>无论是在慢开始阶段还是在拥塞避免阶段，只要发送方判断网络出现拥塞（其根据就是没有收到确认，虽然没有收到确认可能是其他原因的分组丢失，但是因为无法判定，所以都当做拥塞来处理），就把慢开始门限设置为出现拥塞时的发送窗口大小的一半。然后把拥塞窗口设置为 1，执行慢开始算法。 如图所示：</p>
  <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/yong.png" class title="拥塞避免">

<h3 id="快速重传："><a href="#快速重传：" class="headerlink" title="快速重传："></a>快速重传：</h3><ol>
<li><p>快重传要求接收方在收到一个失序的报文段后就立即发出重复确认（为的是使发送方及早知道有报文段没有到达对方）而不要等到自己发送数据时捎带确认。快重传算法规定，发送方只要一连收到三个重复确认就应当立即重传对方尚未收到的报文段，而不必继续等待设置的重传计时器时间到期。</p>
</li>
<li><p>由于不需要等待设置的重传计时器到期，能尽早重传未被确认的报文段，能提高整个网络的吞吐量。</p>
</li>
</ol>
<h3 id="快速恢复："><a href="#快速恢复：" class="headerlink" title="快速恢复："></a>快速恢复：</h3><ol>
<li><p>当发送方连续收到三个重复确认时，就执行“乘法减小”算法，把 ssthresh 门限减半。但是接下去并不执行慢开始算法。</p>
</li>
<li><p>考虑到如果网络出现拥塞的话就不会收到好几个重复的确认，所以发送方现在认为网络可能没有出现拥塞。所以此时不执行慢开始算法，而是将 cwnd 设置为 ssthresh 的大小，然后执行拥塞避免算法。</p>
<img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/quick.png" class title="快速恢复">

</li>
</ol>
<h1 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a><center>应用层</center></h1><h3 id="问题-1：DNS-的概念，用途，DNS-查询的实现算法"><a href="#问题-1：DNS-的概念，用途，DNS-查询的实现算法" class="headerlink" title="问题 1：DNS 的概念，用途，DNS 查询的实现算法"></a>问题 1：DNS 的概念，用途，DNS 查询的实现算法</h3><ul>
<li><p>概念</p>
<ul>
<li>域名解析，<a href="http://www.xxx.com转换成" target="_blank" rel="noopener">www.xxx.com转换成</a> ip，能够使用户更方便的访问互联网，而不用去记住能够被机器直接读取的 ip 地址</li>
<li>DNS 协议运行在 UDP 协议之上，使用端口号 53</li>
</ul>
</li>
<li><p>主机解析域名的顺序</p>
<ul>
<li>浏览器缓存</li>
<li>找本机的 hosts 文件</li>
<li>路由缓存</li>
<li>找 DNS 服务器(本地域名、顶级域名、根域名)<ul>
<li>迭代查询、递归查询</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="问题-2：http-基本格式"><a href="#问题-2：http-基本格式" class="headerlink" title="问题 2：http 基本格式"></a>问题 2：http 基本格式</h3><p>http 请求：</p>
 <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/httprequest.png" class title="http 请求"> 

<p> http 响应：</p>
 <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/httpresponse.png" class title="http 响应"> 

<h3 id="问题-3：GET、POST-区别"><a href="#问题-3：GET、POST-区别" class="headerlink" title="问题 3：GET、POST 区别"></a>问题 3：GET、POST 区别</h3> <img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/get.png" class title="GET和POST 区别"> 

<h3 id="问题-4：Cookies-和-Session-的区别"><a href="#问题-4：Cookies-和-Session-的区别" class="headerlink" title="问题 4：Cookies 和 Session 的区别"></a>问题 4：Cookies 和 Session 的区别</h3><ol>
<li><p><strong>cookie</strong> 是一种发送到客户浏览器的文本串句柄，并保存在客户机硬盘上，可以用来在某个 WEB 站点会话间持久的保持数据</p>
</li>
<li><p><strong>session</strong> 其实指的就是访问者从到达某个特定主页到离开为止的那段时间。 Session 其实是利用Cookie 进行信息处理的，当用户首先进行了请求后，服务端就在用户浏览器上创建了一个Cookie，当这个 Session 结束时，其实就是意味着这个 Cookie 就过期了</p>
</li>
<li><p>cookie 数据保存在客户端，session 数据保存在服务器端</p>
</li>
</ol>
<h3 id="问题-5：一次完整的-HTTP-请求所经历的步骤"><a href="#问题-5：一次完整的-HTTP-请求所经历的步骤" class="headerlink" title="问题 5：一次完整的 HTTP 请求所经历的步骤"></a>问题 5：一次完整的 HTTP 请求所经历的步骤</h3><p> 比如：在浏览器中输入 <a href="http://www.baidu.com/" target="_blank" rel="noopener">www.baidu.com </a>后执行的全部过程 </p>
<img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/http.png" class title="http请求">

<p>也可以参考文章：《抓包实战 | 浏览器里的HTTP 请求到底是如何完成的？》</p>
<p><a href="https://mp.weixin.qq.com/s/_fB7r53BGZRvpG9YAPRQ8A" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/_fB7r53BGZRvpG9YAPRQ8A</a></p>
<h3 id="问题-6：http2-0-和http1-1-的区别"><a href="#问题-6：http2-0-和http1-1-的区别" class="headerlink" title="问题 6：http2.0 和http1.1 的区别"></a>问题 6：http2.0 和http1.1 的区别</h3><img src="/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/http2.png" class title="http2.0 和http1.1 的区别"> 









































</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Ned Lee</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">http://yoursite.com/2020/05/26/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com" target="_blank">Ned Lee's bolg</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题</a></div><div class="post_share"><div class="social-share" data-image="https://picsum.photos/id/180/2500/1656" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/06/04/Mybatis%E7%AC%94%E8%AE%B0/"><img class="prev_cover" src="https://picsum.photos/id/180/2500/1656" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Mybatis笔记</div></div></a></div><div class="next-post pull_right"><a href="/2020/05/16/synchronized%E5%92%8Clock%E7%9A%84%E5%8C%BA%E5%88%AB/"><img class="next_cover" src="https://picsum.photos/id/141/2500/1656" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">synchronized和lock的区别</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/05/12/Java锁的种类以及辨析/" title="Java锁的种类以及辨析"><img class="relatedPosts_cover" src="https://picsum.photos/id/126/2500/1656"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-12</div><div class="relatedPosts_title">Java锁的种类以及辨析</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/15/Sleep和wait的区别/" title="Sleep和wait的区别"><img class="relatedPosts_cover" src="https://picsum.photos/id/136/2500/1656"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-15</div><div class="relatedPosts_title">Sleep和wait的区别</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/12/java中的classloader类加载器/" title="java中的classloader类加载器"><img class="relatedPosts_cover" src="https://picsum.photos/id/112/2500/1656"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-12</div><div class="relatedPosts_title">java中的classloader类加载器</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/12/java中的强制类型转换/" title="java中的强制类型转换"><img class="relatedPosts_cover" src="https://picsum.photos/id/129/2500/1656"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-12</div><div class="relatedPosts_title">java中的强制类型转换</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/12/java创建对象的几种方式/" title="java创建对象的几种方式"><img class="relatedPosts_cover" src="https://picsum.photos/id/132/2500/1656"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-12</div><div class="relatedPosts_title">java创建对象的几种方式</div></div></a></div><div class="relatedPosts_item"><a href="/2020/05/13/java子父类构造器的调用/" title="java子父类构造器的调用"><img class="relatedPosts_cover" src="https://picsum.photos/id/134/2500/1656"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-13</div><div class="relatedPosts_title">java子父类构造器的调用</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" style="background-image: url(https://picsum.photos/id/151/2500/1656)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Ned Lee</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script><script src="/js/search/local-search.js"></script></body></html>